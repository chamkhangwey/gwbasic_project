10 '
20 ' Moving Ball
30 '
40 DIM B(7),P(5),Q(5)
50 SCREEN 1,0:COLOR 0,1:CLS:KEY OFF
60 LINE (10,10)-(12,29),1,BF
70 GET (10,10)-(12,29),Q
80 LINE (180,90)-(182,109),2,BF
90 GET (180,90)-(182,109),P
100 CLS
110 LINE (159,0)-(160,199),,BF
120 X=STICK(0):Y=STICK(1)
130 QX=X:QY=Y
140 PUT (QX,QY),Q,PSET
150 PX=270:PY=90
160 PUT (PX,PY),P,PSET
170 CIRCLE (20,20),4:PAINT (20,20),1,3
180 GET (16,16)-(24,24),B
190 BX=20:BY=20:DX=3:DY=3
200 '
210 ' The Moving Ball
220 '
230 IF PX=BX+4 AND POINT(PX,BY-4)<>0 THEN DX=-1*DX:SOUND 440,.5
240 IF QX=BX-8 AND POINT(QX,BY+4)<>0 THEN DX=-1*DX:SOUND 440,.5
250 PUT (BX-4,BY-4),B,XOR
260 BX=BX+DX:BY=BY+DY
270 PUT (BX-4,BY-4),B,XOR
280 IF BY>191 OR BY<8 THEN DY=-1*DY:SOUND 220,.5
290 IF BX>311 OR BX<8 THEN DX=-1*DX:SOUND 220,.5
300 KEY(12) ON:ON KEY(12) GOSUB 620
310 KEY(13) ON:ON KEY(13) GOSUB 700
320 KEY(11) ON:ON KEY(11) GOSUB 460
330 KEY(14) ON:ON KEY(14) GOSUB 540
340 '
350 ' Read joystick value
360 '
370 X=STICK(0):Y=STICK(1)
380 IF Y<30 THEN GOSUB 780
390 IF Y>70 THEN GOSUB 860
400 IF X<30 THEN GOSUB 940
410 IF X>70 THEN GOSUB 1020
420 GOTO 230
430 '
440 ' Up Key
450 '
460 PUT (PX,PY),P,XOR
470 PY=PY-5
480 IF PY<5 THEN PY=0
490 PUT (PX,PY),P,XOR
500 RETURN
510 '
520 ' Down Key
530 '
540 PUT (PX,PY),P,XOR
550 PY=PY+5
560 IF PY>179 THEN PY=179
570 PUT (PX,PY),P,XOR
580 RETURN
590 '
600 ' Left Key
610 '
620 PUT (PX,PY),P,XOR
630 PX=PX-5
640 IF PX<160 THEN PX=160
650 PUT (PX,PY),P,XOR
660 RETURN
670 '
680 ' Right Key
690 '
700 PUT (PX,PY),P,XOR
710 PX=PX+5
720 IF PX>310 THEN PX=310
730 PUT (PX,PY),P,XOR
740 RETURN
750 '
760 ' Up Stick
770 '
780 PUT (QX,QY),Q,XOR
790 QY=QY-5
800 IF QY<5 THEN QY=5
810 PUT (QX,QY),Q,XOR
820 RETURN
830 '
840 ' Down Stick
850 '
860 PUT (QX,QY),Q,XOR
870 QY=QY+5
880 IF QY>179 THEN QY=179
890 PUT (QX,QY),Q,XOR
900 RETURN
910 '
920 ' Left Stick
930 '
940 PUT (QX,QY),Q,XOR
950 QX=QX-5
960 IF QX<9 THEN QX=9
970 PUT (QX,QY),Q,XOR
980 RETURN
990 '
1000 ' Right Stick
1010 '
1020 PUT (QX,QY),Q,XOR
1030 QX=QX+5
1040 IF QX>158 THEN QX=158
1050 PUT (QX,QY),Q,XOR
1060 RETURN
